<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MicroMatch — Demo</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-50 text-gray-800">

<!-- Auth Modal (visible immediately) -->
<div id="auth-modal" class="fixed inset-0 bg-black/40 flex items-center justify-center p-6 z-50">
  <div class="bg-white w-full max-w-md rounded shadow-lg p-5">
    <h3 id="auth-title" class="text-lg font-semibold mb-4">Login</h3>
    <input id="auth-email" type="email" placeholder="Email" class="w-full p-2 border rounded mb-3"/>
    <input id="auth-password" type="password" placeholder="Password" class="w-full p-2 border rounded mb-3"/>
    <button id="auth-submit" class="bg-indigo-600 text-white px-4 py-2 rounded w-full mb-3">Login</button>
    <div class="text-sm text-gray-500 text-center">
      <span id="toggle-auth-text">Don't have an account?</span>
      <button id="toggle-auth" class="text-indigo-600 font-medium ml-1">Sign Up</button>
    </div>
  </div>
</div>

<script>
const firebaseConfig = {
    apiKey: "AIzaSyBb23ZQezJjCIEAXyz5Ilms-USNP46y8_w",
    authDomain: "lghacks2.firebaseapp.com",
    projectId: "lghacks2",
    storageBucket: "lghacks2.firebasestorage.app",
    messagingSenderId: "332866350955",
    appId: "1:332866350955:web:94b4b652da6f11230ce62e",
    measurementId: "G-23YP64MPTJ"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Login/Sign-up toggle
let isLogin = true;
const authModal = document.getElementById('auth-modal');
const authTitle = document.getElementById('auth-title');
const authSubmit = document.getElementById('auth-submit');
const toggleText = document.getElementById('toggle-auth-text');
const toggleBtn = document.getElementById('toggle-auth');

toggleBtn.onclick = () => {
  isLogin = !isLogin;
  if (isLogin) {
    authTitle.textContent = 'Login';
    authSubmit.textContent = 'Login';
    toggleText.textContent = "Don't have an account?";
    toggleBtn.textContent = 'Sign Up';
  } else {
    authTitle.textContent = 'Sign Up';
    authSubmit.textContent = 'Sign Up';
    toggleText.textContent = 'Already have an account?';
    toggleBtn.textContent = 'Login';
  }
};

// Submit handler
authSubmit.onclick = async () => {
  const email = document.getElementById('auth-email').value;
  const password = document.getElementById('auth-password').value;
  try {
    if (isLogin) {
      await auth.signInWithEmailAndPassword(email, password);
    } else {
      await auth.createUserWithEmailAndPassword(email, password);
    }
  } catch (err) {
    alert(err.message);
  }
};

// Show modal until logged in
auth.onAuthStateChanged(user => {
  if (user) {
    authModal.style.display = 'none';
  } else {
    authModal.style.display = 'flex';
  }
});
</script>

<!-- Page content -->
<header class="bg-white shadow p-4 flex items-center justify-between">
  <div class="flex items-center gap-3">
    <div class="text-2xl">🏆 <strong>MicroMatch</strong></div>
    <div class="text-sm text-gray-500">Connecting micro-entrepreneurs to the right lenders</div>
  </div>
  <div>
    <button id="open-lender" class="bg-indigo-600 text-white px-4 py-2 rounded">Open Lender Dashboard</button>
  </div>
</header>

<main class="max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-6">
  <!-- Borrower panel and lender panel here... -->
</main>

<!-- Add your borrower form, lender dashboard, and chat modal as in your previous code -->

</body>
</html>
